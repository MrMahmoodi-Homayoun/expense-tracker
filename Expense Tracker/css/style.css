/* css/style.css
   Complete responsive stylesheet for Expense Tracker.
   Behavior:
   - On small screens (phone/tablet/laptop narrow) "New Transaction" and "Transactions" stack vertically (one column).
   - On large screens (desktop/monitor/TV) they display side-by-side (two columns).
   - Controls (search, Clear All, Export, Import) stay inside header, wrap on small widths, and stay inline on wide screens.
   - Breakpoints chosen to cover phone, tablet, laptop, large monitor, and TV.
   Replace your existing css/style.css with this file.
*/

/* ----------------- Variables ----------------- */
:root{
  --bg: #f6f8fb;
  --card: #ffffff;
  --text: #0f1720;
  --muted: #64748b;
  --accent: #0ea5a4;
  --danger: #ef4444;
  --success: #10b981;
  --shadow: 0 1px 8px rgba(15,23,36,0.06);
  --radius: 12px;
  --gap: 16px;
  --max-narrow: 820px;   /* phones / small tablets / narrow laptops -> stacked */
  --max-medium: 1200px;  /* medium laptops -> stacked or compact two-col */
  --wide: 1600px;        /* large monitors / TVs -> comfortable side-by-side */
}

/* ----------------- Base ----------------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, "Segoe UI", Roboto, system-ui, -apple-system, "Helvetica Neue", Arial;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.35;
  -webkit-font-feature-settings: "liga" 1;
}

/* ----------------- Layout container ----------------- */
.container {
  max-width: 1200px;
  margin: 28px auto;
  padding: 16px;
}

/* Header */
header h1 { margin: 0; font-size: 1.5rem; }
.muted { color: var(--muted); margin-top: 6px; font-size: .95rem; }

/* Card base */
.card {
  background: var(--card);
  border-radius: var(--radius);
  padding: 14px;
  margin-top: var(--gap);
  box-shadow: var(--shadow);
}

/* Quick stats row */
.quick-stats {
  display: flex;
  gap: 18px;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
}
.label { font-size: .85rem; color: var(--muted); }
.large { font-size: 1.35rem; font-weight: 600; }
.small { font-size: 1rem; }
.positive { color: var(--success); }
.negative { color: var(--danger); }

/* ----------------- Grid: responsive rules -----------------
   - Default: stacked (1 column) to ensure all devices show New Transaction above Transactions.
   - At medium widths and above, switch to two columns (form+chart left, list right).
   - At very wide displays (TVs / large monitors) increase spacing and allow more inline controls.
*/

/* Grid default: single column stacked (best for phones) */
.grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 18px;
  margin-top: 16px;
}

/* Ensure explicit ordering: form first, list second (visible on narrow screens) */
.grid > .form-card { order: 1; }
.grid > .list-card { order: 2; }

/* ----------------- Form / Chart ----------------- */
.form-card h2 { margin: 0 0 6px 0; font-size: 1.05rem; }
.form-card form .row { display: flex; gap: 10px; align-items: center; margin-top: 8px; }
input[type="text"], input[type="number"], input[type="date"], .controls-row input[type="text"] {
  flex: 1;
  padding: 8px 10px;
  border: 1px solid #e6edf3;
  border-radius: 8px;
  font-size: .95rem;
  background: transparent;
  outline: none;
}
input:focus { box-shadow: 0 0 0 3px rgba(14,165,164,0.06); border-color: rgba(14,165,164,0.4); }

.btn {
  background: var(--accent);
  color: #fff;
  border: none;
  padding: 9px 12px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
}
.btn:active { transform: translateY(1px); }

/* Spacer */
.spacer { height: 12px; }

/* Chart container */
.chart-wrap { width: 100%; height: 220px; margin-top: 8px; }
.chart-wrap canvas { width: 100% !important; height: 220px !important; display: block; }

/* ----------------- List / Controls ----------------- */
.list-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

/* Controls row: responsive, wrapping, scroll fallback */
.controls-row {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
  max-width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 2px;
}

/* Search input sizing and behavior */
.controls-row input[type="text"] {
  min-width: 140px;
  width: 180px;
  flex: 0 1 180px;
  padding: 8px 10px;
  border-radius: 8px;
  border: 1px solid #e6edf3;
  background: transparent;
}

/* Ghost buttons consistent */
.btn.ghost {
  background: transparent;
  border: 1px solid #e6edf3;
  color: var(--muted);
  padding: 8px 10px;
  font-size: .92rem;
  white-space: nowrap;
  border-radius: 8px;
}

/* Import label (file input hidden) */
.label-file {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 8px;
  cursor: pointer;
  border: 1px solid #e6edf3;
  background: transparent;
  color: var(--muted);
}
.label-file input[type="file"] { display: none; }

/* Ensure controls don't shrink unexpectedly */
.controls-row > * { flex-shrink: 0; }

/* ----------------- Transaction list ----------------- */
.tx-list {
  list-style: none;
  padding: 0;
  margin: 0;
  margin-top: 10px;
  max-height: 520px;
  overflow: auto;
}
.tx-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px;
  border-radius: 8px;
}
.tx-item:nth-child(odd) { background: #fbfdfe; }
.tx-desc { display: flex; gap: 12px; align-items: center; }
.tx-date { font-size: .85rem; color: var(--muted); }
.tx-amt { font-weight: 600; }
.delete-btn {
  background: transparent;
  border: none;
  color: var(--danger);
  cursor: pointer;
  padding: 6px;
}

/* Empty state */
.tx-item.empty { justify-content: center; color: var(--muted); }

/* ----------------- Breakpoint: medium (tablet / laptop) -----------------
   At widths > --max-narrow (e.g., > 820px), switch to two-column layout.
   This covers tablets in landscape and most laptops.
*/
@media (min-width: calc(var(--max-narrow) + 1px)) {
  .grid {
    grid-template-columns: 1fr 420px;
    align-items: start;
  }
  /* keep form left and list right */
  .grid > .form-card { order: 1; }
  .grid > .list-card { order: 2; }

  /* Make controls prefer inline layout on medium screens */
  .controls-row input[type="text"] { flex: 0 1 160px; width: 160px; }
}

/* ----------------- Breakpoint: wide (desktop / large monitor) -----------------
   At widths >= --max-medium show more comfortable spacing.
*/
@media (min-width: calc(var(--max-medium) + 1px)) {
  .container { max-width: 1400px; padding: 20px; }
  .chart-wrap { height: 260px; }
  .chart-wrap canvas { height: 260px !important; }
  .controls-row input[type="text"] { width: 200px; flex: 0 1 200px; }
  .tx-list { max-height: 640px; }
}

/* ----------------- Breakpoint: very wide (large monitor / TV) -----------------
   At very large widths (e.g., TV), keep two columns but increase spacing,
   and keep controls inline (no wrap) with comfortable sizes.
*/
@media (min-width: var(--wide)) {
  .container { max-width: 1800px; padding: 28px; }
  .grid { gap: 28px; grid-template-columns: 1fr 520px; }
  .chart-wrap { height: 320px; }
  .chart-wrap canvas { height: 320px !important; }
  .controls-row { flex-wrap: nowrap; overflow: visible; }
  .controls-row input[type="text"] { width: 240px; flex: 0 1 240px; }
  .btn.ghost { padding: 10px 12px; font-size: 1rem; }
  .label-file { padding: 10px 12px; }
  .tx-list { max-height: 800px; }
}

/* ----------------- Small screen polish ----------------- */
@media (max-width: 640px) {
  .quick-stats { flex-direction: column; align-items: flex-start; gap: 8px; }
  .form-card form .row { flex-direction: column; gap: 10px; }
  .controls-row input[type="text"] { width: 100%; flex: 1 1 100%; min-width: 0; }
  .btn.ghost { padding: 7px 8px; font-size: .88rem; }
  .label-file { padding: 7px 8px; }
  .chart-wrap { height: 160px; }
  .chart-wrap canvas { height: 160px !important; }
}

/* Very narrow screens (phones) */
@media (max-width: 420px) {
  .controls-row input[type="text"] { min-width: 110px; width: 140px; flex: 0 1 140px; }
  .btn.ghost { padding: 6px 8px; font-size: .85rem; }
  .label-file { padding: 6px 8px; }
  .chart-wrap { height: 140px; }
  .chart-wrap canvas { height: 140px !important; }
}

/* ----------------- Visual tweaks ----------------- */
.controls-row::-webkit-scrollbar { height: 8px; }
.controls-row::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.08); border-radius: 8px; }
canvas { display: block; max-width: 100%; }